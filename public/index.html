<!DOCTYPE html>
<html lang="ko" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¦œ DAYOUNG's í†µë²ˆì—­ ìŠ¤íŠœë””ì˜¤</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="í†µë²ˆì—­">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23667eea' width='100' height='100' rx='20'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-size='50'>ğŸ“š</text></svg>">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Playfair+Display:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/games.css">
    <style>
        /* í”„ë¦¬ë¯¸ì—„ ë²„íŠ¼ */
        .btn-premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            font-weight: 600;
        }
        .btn-premium:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-1px);
        }
        
        /* ëª¨ë¸ ë±ƒì§€ */
        .model-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .model-badge.gpt {
            background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
            color: white;
        }
        .model-badge.premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        /* í”¼ë“œë°± ìŠ¤íƒ€ì¼ */
        .feedback-main {
            font-size: 15px;
            line-height: 1.7;
            margin-bottom: 16px;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--accent-primary);
        }
        
        /* ë¶„ì„ ì„¹ì…˜ */
        .analysis-section {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }
        .analysis-item {
            margin-bottom: 12px;
            font-size: 14px;
            line-height: 1.6;
        }
        .analysis-item:last-child { margin-bottom: 0; }
        .analysis-item strong { color: var(--accent-primary); }
        
        /* ëª¨ë²” ë²ˆì—­ */
        .model-answer {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border: 1px solid var(--accent-primary);
        
        /* ë§Œë£Œ ë±ƒì§€ */
        .expiry-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
        }
        .expiry-normal {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
        }
        .expiry-warning {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            animation: pulse-badge 2s infinite;
        }
        .expiry-urgent {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            animation: pulse-badge 1s infinite;
        }
        .expiry-expired {
            background: rgba(107, 114, 128, 0.15);
            color: #6b7280;
        }
        .card-expiring {
            border-left: 3px solid #ef4444 !important;
        }
        @keyframes pulse-badge {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        /* ê²½ê³  ë²„íŠ¼ */
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            border: none;
            font-weight: 600;
        }
        .btn-warning:hover { opacity: 0.9; }
        
        /* ì—…ë°ì´íŠ¸ ì•Œë¦¼ */
        .update-item {
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 10px;
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent-primary);
        }
        .update-item h4 { margin: 0 0 6px 0; font-size: 14px; }
        .update-item p { margin: 0; font-size: 13px; color: var(--text-secondary); line-height: 1.5; }
        .update-version {
            text-align: center;
            padding: 8px;
            margin-bottom: 12px;
            font-size: 13px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color);
        }
        
        /* ë…¹ìŒ ë²„íŠ¼ */
        .interp-record-area {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        .btn-record {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 50px;
            border: 2px solid var(--accent-primary);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-record:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        .btn-record.recording {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border-color: #ef4444;
            animation: pulse-record 1.5s infinite;
        }
        .btn-record.recording .record-icon { animation: none; }
        .record-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-secondary);
        }
        .record-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ef4444;
            animation: pulse-record 1s infinite;
        }
        @keyframes pulse-record {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.05); }
        }
            border-radius: 8px;
            padding: 16px;
            font-size: 15px;
            line-height: 1.7;
        }
        
        /* ë²„íŠ¼ ê·¸ë£¹ */
        .trans-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        .trans-actions .btn { flex: 1; min-width: 100px; }
        
        /* í•œì˜ ì§€ì› í‘œì‹œ */
        .article-card .article-meta span[title] {
            cursor: help;
        }
        
        /* ì‹¤ì œ/AI ë±ƒì§€ */
        .badge-real {
            background: #28a745;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }
        .badge-ai {
            background: #6c757d;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* ê¸°ì‚¬ ì¹´ë“œ ê°œì„  */
        .article-card {
            cursor: default;
        }
        .article-summary {
            font-size: 14px;
            color: var(--text-secondary);
            margin: 8px 0;
            line-height: 1.5;
        }
        .article-date {
            color: var(--text-secondary);
            font-size: 12px;
        }
        .article-progress {
            background: var(--bg-tertiary);
            border-radius: 4px;
            height: 20px;
            position: relative;
            margin: 8px 0;
            overflow: hidden;
        }
        .article-progress-fill {
            background: var(--accent-primary);
            height: 100%;
            transition: width 0.3s;
        }
        .article-progress span {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 11px;
            font-weight: 600;
        }
        .article-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }
        .btn-accent {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
        }
        
        /* ê¸°ì‚¬ ìƒì„¸ ëª¨ë‹¬ */
        .modal-xl {
            max-width: 900px;
            width: 95%;
        }
        .article-detail-meta {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 4px;
        }
        .article-detail-section {
            margin-bottom: 24px;
        }
        .article-detail-section h4 {
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }
        .article-content {
            line-height: 1.8;
            font-size: 15px;
        }
        .article-content p {
            margin-bottom: 8px;
            display: flex;
            gap: 8px;
        }
        .sentence-num {
            background: var(--accent-primary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
        }
        
        /* í†µì—­ ì—°ìŠµ */
        .interp-progress {
            text-align: center;
            margin-bottom: 20px;
        }
        .interp-progress .progress-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            margin-top: 8px;
            overflow: hidden;
        }
        .interp-progress .progress-fill {
            height: 100%;
            background: var(--accent-primary);
        }
        .stage-box {
            text-align: center;
            padding: 24px;
        }
        .stage-box h3 {
            margin-bottom: 8px;
        }
        .stage-desc {
            color: var(--text-secondary);
            margin-bottom: 24px;
        }
        .audio-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 24px;
        }
        .stage-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
        }
        .timer-display {
            font-size: 72px;
            font-weight: 700;
            color: var(--accent-primary);
            margin: 24px 0;
        }
        
        /* ê¸°ì‚¬ ì§„í–‰ë„ */
        .article-progress-section {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 10px 12px;
            margin: 12px 0;
            border: 1px solid var(--border-color);
        }
        .progress-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }
        .progress-row:last-child { margin-bottom: 0; }
        .progress-label {
            font-size: 12px;
            width: 60px;
            flex-shrink: 0;
            font-weight: 500;
        }
        .progress-bar-mini {
            flex: 1;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        .progress-fill-mini {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s;
            border-radius: 3px;
        }
        .progress-fill-mini.interp {
            background: linear-gradient(90deg, #f093fb, #f5576c);
        }
        .progress-fill-mini.empty {
            background: transparent;
        }
        .progress-text {
            font-size: 11px;
            color: var(--text-secondary);
            min-width: 85px;
            text-align: right;
            font-weight: 500;
        }
        .progress-text.score-high { color: #28a745; }
        .progress-text.score-mid { color: #fd7e14; }
        .progress-text.score-low { color: #dc3545; }
        
        /* ê¸°ì‚¬ ì •ë³´ */
        .article-info {
            display: flex;
            flex-direction: column;
            gap: 6px;
            margin: 10px 0;
            padding: 8px 0;
            border-top: 1px solid var(--border-color);
        }
        .article-date-time {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
        }
        .date-icon { font-size: 14px; }
        .date-full { color: var(--text-primary); }
        .date-relative { color: var(--text-secondary); font-size: 12px; }
        .article-stats {
            display: flex;
            gap: 12px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        /* ì•„ì¹´ì´ë¸Œ ì¹´ë“œ */
        .archive-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border-color);
        }
        .archive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .archive-header {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }
        .archive-type {
            font-size: 13px;
            font-weight: 600;
        }
        .archive-date {
            font-size: 12px;
            color: var(--text-secondary);
        }
        .archive-score {
            font-size: 13px;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 4px;
            margin-left: auto;
        }
        .archive-title {
            font-size: 15px;
            margin-bottom: 8px;
        }
        .archive-progress {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        .archive-progress-bar {
            flex: 1;
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
        }
        .archive-progress-fill {
            height: 100%;
            background: var(--accent-primary);
        }
        
        /* ì ìˆ˜ ìƒ‰ìƒ */
        .score-high { background: #d4edda; color: #155724; }
        .score-mid { background: #fff3cd; color: #856404; }
        .score-low { background: #f8d7da; color: #721c24; }
        
        /* ì•„ì¹´ì´ë¸Œ ìƒì„¸ */
        .archive-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
            padding: 16px;
            background: var(--bg-tertiary);
            border-radius: 8px;
        }
        .summary-item {
            text-align: center;
        }
        .summary-label {
            font-size: 12px;
            color: var(--text-secondary);
            display: block;
            margin-bottom: 4px;
        }
        .summary-value {
            font-size: 16px;
            font-weight: 600;
        }
        .section-title {
            font-size: 16px;
            margin: 20px 0 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }
        .feedback-list {
            max-height: 400px;
            overflow-y: auto;
        }
        .feedback-item {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 14px;
            margin-bottom: 12px;
        }
        .feedback-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }
        .feedback-num {
            width: 24px;
            height: 24px;
            background: var(--accent-primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }
        .feedback-score {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        .feedback-model {
            font-size: 11px;
            color: var(--text-secondary);
            margin-left: auto;
        }
        .feedback-original, .feedback-user, .feedback-ai, 
        .feedback-model-answer, .feedback-improvements,
        .feedback-missed, .feedback-good {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        .feedback-original strong, .feedback-user strong {
            color: var(--text-secondary);
        }
        .feedback-ai { color: var(--accent-primary); }
        .feedback-model-answer {
            background: rgba(102, 126, 234, 0.1);
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
        }
        .feedback-improvements ul, .feedback-missed ul, .feedback-good ul {
            margin: 4px 0 0 16px;
            padding: 0;
        }
        .feedback-missed { color: #dc3545; }
        .feedback-good { color: #28a745; }
        
        /* ===== ë¬¸ì¥ë³„ ëŒ€ì¡° ë³´ê¸° ===== */
        .inline-sentence { margin-bottom:10px; padding:12px; background:var(--bg-secondary); border-radius:8px; border-left:3px solid var(--accent-primary); cursor:pointer; transition:all 0.2s; }
        .inline-sentence:hover { background:var(--bg-tertiary); transform:translateX(3px); }
        .inline-sentence .en-text { font-size:15px; line-height:1.8; display:flex; gap:8px; align-items:flex-start; }
        .inline-sentence .ko-text { display:none; margin-top:8px; padding:10px 12px; background:linear-gradient(135deg,rgba(102,126,234,0.08),rgba(118,75,162,0.08)); border-radius:6px; font-size:14px; line-height:1.7; color:var(--accent-primary); border-left:3px solid var(--accent-primary); }
        .inline-sentence .ko-text.visible { display:block; animation:slideDown 0.2s ease; }
        .inline-sentence .tts-btn-mini { background:none; border:none; cursor:pointer; font-size:16px; padding:2px 4px; opacity:0.6; flex-shrink:0; }
        .inline-sentence .tts-btn-mini:hover { opacity:1; }
        @keyframes slideDown { from { opacity:0; transform:translateY(-4px); } to { opacity:1; transform:translateY(0); } }
        
        /* ===== í†µë²ˆì—­ AI ë¦¬ì„œì¹˜ ===== */
        .counsel-msg { display:flex; gap:12px; max-width:88%; animation: msgIn 0.3s ease; }
        .counsel-msg.counsel-ai { align-self:flex-start; }
        .counsel-msg.counsel-user { align-self:flex-end; flex-direction:row-reverse; }
        .counsel-avatar { width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:18px; flex-shrink:0; background:var(--bg-tertiary); }
        .counsel-bubble { padding:14px 18px; border-radius:16px; font-size:14px; line-height:1.8; }
        .counsel-bubble ul { margin:4px 0; padding-left:18px; }
        .counsel-bubble li { margin-bottom:2px; }
        .counsel-ai .counsel-bubble { background:var(--bg-secondary); border:1px solid var(--border-color); border-top-left-radius:4px; }
        .counsel-user .counsel-bubble { background:linear-gradient(135deg,#667eea,#764ba2); color:white; border-top-right-radius:4px; }
        .counsel-typing { display:flex; gap:4px; padding:8px 0; }
        .counsel-typing span { width:8px; height:8px; border-radius:50%; background:var(--text-secondary); animation:typingBounce 1.4s infinite; }
        .counsel-typing span:nth-child(2) { animation-delay:0.2s; }
        .counsel-typing span:nth-child(3) { animation-delay:0.4s; }
        @keyframes typingBounce { 0%,60%,100% { transform:translateY(0); } 30% { transform:translateY(-8px); } }
        @keyframes msgIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
        .counseling-type-btn.active { background:linear-gradient(135deg,#667eea,#764ba2) !important; color:white !important; border-color:transparent !important; }
        .quick-prompts .btn { transition:all 0.2s; border:1px dashed var(--border-color) !important; }
        .quick-prompts .btn:hover { border-style:solid !important; background:var(--accent-light) !important; color:var(--accent-primary) !important; }

        /* ===== í†µë²ˆì—­ ë„êµ¬ ì¶”ì²œ ===== */
        .tool-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:16px; }
        .tool-item { background:var(--bg-tertiary); border-radius:12px; padding:20px; border:1px solid var(--border-color); transition:all 0.25s; }
        .tool-item:hover { transform:translateY(-3px); box-shadow:var(--shadow-lg); border-color:var(--accent-primary); }
        .tool-header { display:flex; align-items:center; gap:8px; margin-bottom:10px; }
        .tool-header strong { font-size:16px; }
        .tool-badge { font-size:11px; padding:2px 8px; border-radius:12px; font-weight:600; }
        .tool-pro { background:#4f46e5; color:white; }
        .tool-rec { background:#10b981; color:white; }
        .tool-free { background:#f59e0b; color:white; }
        .tool-item p { font-size:13px; line-height:1.7; color:var(--text-secondary); margin-bottom:10px; }
        .tool-tags { display:flex; flex-wrap:wrap; gap:4px; margin-bottom:8px; }
        .tool-tags span { font-size:11px; padding:2px 8px; background:var(--bg-secondary); border-radius:8px; color:var(--text-secondary); border:1px solid var(--border-light); }
        .tool-price { font-size:12px; color:var(--text-tertiary); }
        .tool-category-card { border-left:4px solid var(--accent-primary); }

        /* ===== ì§‘ì¤‘ ëª°ì… ë””ìì¸ ===== */
        .dash-card { transition:all 0.3s ease; }
        .dash-card:hover { box-shadow:0 8px 25px -5px rgba(0,0,0,0.08); }
        * { scroll-behavior:smooth; }
        .btn-primary:hover { box-shadow:0 4px 15px rgba(99,102,241,0.35); }
        textarea:focus, input:focus, select:focus { outline:none; border-color:var(--accent-primary) !important; box-shadow:0 0 0 3px rgba(99,102,241,0.15); transition:all 0.2s ease; }
        .article-card:hover { transform:translateY(-2px); box-shadow:var(--shadow-lg); }
        .nav-item { transition:all 0.2s ease; }
        .nav-item:hover { transform:translateX(4px); }
        
        /* OCR */
        #ocr-upload-area.dragover { border-color:var(--accent-primary); background:rgba(102,126,234,0.05); }
        .ocr-sentence-card { background:var(--bg-secondary); border-radius:8px; padding:14px; border-left:3px solid var(--accent-primary); }
        .ocr-sentence-card .original { font-size:15px; line-height:1.7; margin-bottom:8px; }
        .ocr-sentence-card .translated { font-size:14px; line-height:1.6; color:var(--accent-primary); padding:8px 12px; background:rgba(102,126,234,0.08); border-radius:6px; }
        .ocr-sentence-card .terms { display:flex; gap:6px; flex-wrap:wrap; margin-top:8px; }
        .ocr-sentence-card .terms span { font-size:11px; padding:2px 8px; background:var(--bg-tertiary); border-radius:10px; color:var(--text-secondary); }
        
        /* PWA ì„¤ì¹˜ ë²„íŠ¼ */
        .pwa-install-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            z-index: 1000;
            display: none;
            animation: pulse 2s infinite;
        }
        .pwa-install-btn:hover {
            transform: scale(1.05);
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }
            50% { box-shadow: 0 4px 25px rgba(102, 126, 234, 0.6); }
        }
        
        @media (max-width: 768px) {
            .pwa-install-btn {
                bottom: 100px;
                right: 15px;
                padding: 10px 16px;
                font-size: 13px;
            }
            
            /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ê°œì„  */
            .mobile-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: var(--bg-primary);
                border-top: 1px solid var(--border-color);
                display: flex;
                justify-content: space-around;
                padding: 8px 4px;
                z-index: 1000;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            }
            .mobile-nav .mnav {
                flex: 1;
                background: none;
                border: none;
                font-size: 20px;
                padding: 8px 4px;
                cursor: pointer;
                border-radius: 8px;
                transition: all 0.2s;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2px;
            }
            .mobile-nav .mnav::after {
                content: attr(title);
                font-size: 9px;
                color: var(--text-secondary);
            }
            .mobile-nav .mnav.active {
                background: var(--accent-primary);
                color: white;
            }
            .mobile-nav .mnav.active::after {
                color: white;
            }
            .mobile-nav .mnav:hover {
                background: var(--bg-tertiary);
            }
            
            /* ë©”ì¸ ì»¨í…ì¸  í•˜ë‹¨ ì—¬ë°± */
            .main-content {
                padding-bottom: 80px !important;
            }
        }
    </style>
</head>
<body>
    <!-- ë°°ê²½ íš¨ê³¼ -->
    <div class="bg-effects">
        <div class="bg-gradient"></div>
        <div class="bg-particles" id="particles"></div>
        <div class="bg-pattern"></div>
    </div>

    <!-- BGM í”Œë ˆì´ì–´ -->
    <div class="bgm-player" id="bgm-player">
        <button class="bgm-toggle" onclick="toggleBGM()" title="ë°°ê²½ìŒì•…">
            <span id="bgm-icon">ğŸ”‡</span>
        </button>
        <div class="bgm-controls" id="bgm-controls">
            <select id="bgm-select" onchange="changeBGM()">
                <option value="">ìŒì•… ì„ íƒ</option>
                <option value="lofi">ğŸµ Lo-Fi Beats</option>
                <option value="jazz">ğŸ· Smooth Jazz</option>
                <option value="nature">ğŸŒ¿ ìì—° ì†Œë¦¬</option>
                <option value="rain">ğŸŒ§ï¸ ë¹—ì†Œë¦¬</option>
                <option value="piano">ğŸ¹ Piano</option>
            </select>
            <input type="range" id="bgm-volume" min="0" max="100" value="30" onchange="setBGMVolume()">
        </div>
    </div>

    <div class="app-container">
        <!-- ì‚¬ì´ë“œë°” -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="mascot-container">
                        <span class="mascot" id="sidebar-mascot">ğŸ¦œ</span>
                        <span class="mascot-level" id="mascot-level">Lv.1</span>
                    </div>
                    <div class="logo-text">
                        <h1 id="studio-name">DAYOUNG's Studio</h1>
                        <p class="studio-title" id="studio-title">ë²ˆì—­ ìƒˆì‹¹</p>
                    </div>
                </div>
            </div>
            
            <div class="user-stats-mini">
                <div class="exp-bar-mini">
                    <div class="exp-fill" id="exp-bar-fill" style="width: 0%"></div>
                </div>
                <span class="exp-text" id="exp-text">0 / 100 EXP</span>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active" data-view="dashboard"><span>ğŸ </span>ëŒ€ì‹œë³´ë“œ</button>
                <button class="nav-item" data-view="articles"><span>ğŸ“°</span>ê¸°ì‚¬ í•™ìŠµ<em id="article-count">0</em></button>
                <button class="nav-item" data-view="translate"><span>âœï¸</span>ë²ˆì—­ ì—°ìŠµ</button>
                <button class="nav-item" data-view="interpret"><span>ğŸ™ï¸</span>í†µì—­ ì—°ìŠµ</button>
                <button class="nav-item" data-view="vocabulary"><span>ğŸ“š</span>ë‹¨ì–´ì¥</button>
                <button class="nav-item" data-view="games"><span>ğŸ®</span>ë¯¸ë‹ˆê²Œì„</button>
                <button class="nav-item" data-view="archive"><span>ğŸ—‚ï¸</span>ì•„ì¹´ì´ë¸Œ</button>
                <button class="nav-item" data-view="ocr"><span>ğŸ“¸</span>ìº¡ì³ ë²ˆì—­</button>
                <button class="nav-item" data-view="counseling"><span>ğŸ’­</span>AI ë©˜í† </button>
                <button class="nav-item" data-view="tools"><span>ğŸ› ï¸</span>ë²ˆì—­ ë„êµ¬</button>
                <button class="nav-item" data-view="achievements"><span>ğŸ†</span>ì—…ì </button>
                <button class="nav-item" data-view="customize"><span>ğŸ¨</span>ê¾¸ë¯¸ê¸°</button>
                <button class="nav-item" data-view="settings"><span>âš™ï¸</span>ì„¤ì •</button>
            </nav>

            <div class="sidebar-footer">
                <div class="streak-box">
                    <span class="streak-fire">ğŸ”¥</span>
                    <div class="streak-info">
                        <b id="streak-count">0</b>ì¼ ì—°ì†!
                        <small id="streak-best">ìµœê³ : 0ì¼</small>
                    </div>
                </div>
                <button class="fortune-btn" onclick="showFortune()">ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸</button>
            </div>
        </aside>

        <!-- ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="mobile-nav">
            <button class="mnav active" data-view="dashboard" title="í™ˆ">ğŸ </button>
            <button class="mnav" data-view="articles" title="ê¸°ì‚¬">ğŸ“°</button>
            <button class="mnav" data-view="translate" title="ë²ˆì—­">âœï¸</button>
            <button class="mnav" data-view="interpret" title="í†µì—­">ğŸ™ï¸</button>
            <button class="mnav" data-view="vocabulary" title="ë‹¨ì–´ì¥">ğŸ“š</button>
            <button class="mnav" data-view="ocr" title="ìº¡ì³ë²ˆì—­">ğŸ“¸</button>
            <button class="mnav" data-view="counseling" title="AIë©˜í† ">ğŸ’­</button>
            <button class="mnav" data-view="tools" title="ë²ˆì—­ë„êµ¬">ğŸ› ï¸</button>
            <button class="mnav" data-view="archive" title="ì•„ì¹´ì´ë¸Œ">ğŸ“</button>
            <button class="mnav" data-view="customize" title="ê¾¸ë¯¸ê¸°">ğŸ¨</button>
            <button class="mnav" data-view="settings" title="ì„¤ì •">âš™ï¸</button>
        </nav>

        <main class="main-content">
            <!-- ========== ëŒ€ì‹œë³´ë“œ ========== -->
            <section class="view active" id="view-dashboard">
                <header class="view-header">
                    <h2>ğŸ¦œ <span id="header-name">DAYOUNG</span>'s í†µë²ˆì—­ ìŠ¤íŠœë””ì˜¤</h2>
                    <p id="today-date"></p>
                </header>

                <!-- ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë°°ë„ˆ -->
                <div class="fortune-banner" id="fortune-banner" style="display:none;">
                    <span class="fortune-icon">ğŸ”®</span>
                    <p id="fortune-text"></p>
                    <button onclick="closeFortune()">Ã—</button>
                </div>

                <div class="dash-hero">
                    <div class="hero-left">
                        <div class="hero-progress">
                            <svg viewBox="0 0 120 120">
                                <circle class="ring-bg" cx="60" cy="60" r="52"/>
                                <circle class="ring-fill" id="hero-ring" cx="60" cy="60" r="52"/>
                            </svg>
                            <div class="hero-text">
                                <span id="hero-pct">0%</span>
                                <small>ì˜¤ëŠ˜ ëª©í‘œ</small>
                            </div>
                        </div>
                        <div class="hero-checks">
                            <div id="hc-article"><span>ğŸ“°</span>ê¸°ì‚¬<i>â—‹</i></div>
                            <div id="hc-translate"><span>âœï¸</span>ë²ˆì—­<i>â—‹</i></div>
                            <div id="hc-vocab"><span>ğŸ“š</span>ë‹¨ì–´<i>â—‹</i></div>
                            <div id="hc-quiz"><span>ğŸ¯</span>í€´ì¦ˆ<i>â—‹</i></div>
                        </div>
                    </div>

                    <div class="hero-mascot-area">
                        <div class="mascot-display">
                            <div class="mascot-big" id="mascot-big">ğŸ¦œ</div>
                            <div class="mascot-name" id="mascot-name-display">íŒŒë‘ì´</div>
                            <div class="mascot-mood" id="mascot-mood">ê¸°ë¶„ ì¢‹ìŒ ğŸ˜Š</div>
                        </div>
                        <div class="mascot-speech">
                            <p id="mascot-msg">ì˜¤ëŠ˜ë„ í™”ì´íŒ…! ğŸ’ª</p>
                        </div>
                    </div>

                    <div class="hero-right">
                        <div class="level-card">
                            <div class="level-badge">
                                <span class="level-num" id="user-level">1</span>
                                <span class="level-label">LEVEL</span>
                            </div>
                            <div class="level-info">
                                <div class="title-badge" id="user-title">ë²ˆì—­ ìƒˆì‹¹</div>
                                <div class="exp-bar">
                                    <div class="exp-fill" id="exp-fill" style="width:0%"></div>
                                </div>
                                <small id="exp-display">0 / 100 EXP</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- í•™ìŠµ ì”ë”” -->
                <div class="dash-card grass-card">
                    <div class="card-header">
                        <h3>ğŸŒ± í•™ìŠµ ì”ë””</h3>
                        <span class="grass-year" id="grass-year">2026</span>
                    </div>
                    <div class="grass-container" id="grass-container"></div>
                    <div class="grass-legend">
                        <span>Less</span>
                        <div class="grass-levels">
                            <div class="grass-level" data-level="0"></div>
                            <div class="grass-level" data-level="1"></div>
                            <div class="grass-level" data-level="2"></div>
                            <div class="grass-level" data-level="3"></div>
                            <div class="grass-level" data-level="4"></div>
                        </div>
                        <span>More</span>
                    </div>
                </div>

                <div class="dash-grid">
                    <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ -->
                    <div class="dash-card recommend-card">
                        <h3>ğŸ“° ì˜¤ëŠ˜ì˜ ì¶”ì²œ</h3>
                        <div class="rec-meta">
                            <span id="rec-cat">-</span>
                            <span id="rec-level">-</span>
                            <span id="rec-new" class="badge-new"></span>
                        </div>
                        <h4 id="rec-title">ë¡œë”©ì¤‘...</h4>
                        <div class="rec-info">
                            <span id="rec-source"></span>
                            <span id="rec-date"></span>
                        </div>
                        <button class="btn btn-primary btn-block" onclick="startRecommended()">
                            í•™ìŠµ ì‹œì‘ â†’
                        </button>
                    </div>

                    <!-- í•™ìŠµ ì‹œê°„ -->
                    <div class="dash-card time-card">
                        <h3>â±ï¸ ì˜¤ëŠ˜ í•™ìŠµ</h3>
                        <div class="time-display">
                            <span class="time-big" id="dash-time">0</span>
                            <span class="time-unit">ë¶„</span>
                        </div>
                        <div class="time-goal">
                            ëª©í‘œ: <span id="time-goal">60</span>ë¶„
                        </div>
                    </div>

                    <!-- ë‹¨ì–´ì¥ -->
                    <div class="dash-card vocab-card">
                        <h3>ğŸ“š ë‹¨ì–´ì¥</h3>
                        <div class="vocab-summary">
                            <div><b id="dv-total">0</b><small>ì „ì²´</small></div>
                            <div><b id="dv-mastered">0</b><small>ì•”ê¸°</small></div>
                            <div class="hl"><b id="dv-review">0</b><small>ë³µìŠµ</small></div>
                        </div>
                        <button class="btn btn-secondary btn-block" onclick="navigateTo('games')">
                            ğŸ® ê²Œì„ìœ¼ë¡œ ë³µìŠµ
                        </button>
                    </div>

                    <!-- ìµœê·¼ ê¸°ì‚¬ -->
                    <div class="dash-card new-card">
                        <div class="card-header">
                            <h3>ğŸ†• ìµœê·¼ ê¸°ì‚¬</h3>
                            <button class="btn-icon" onclick="refreshArticles()" title="ìƒˆë¡œê³ ì¹¨">ğŸ”„</button>
                        </div>
                        <div id="new-articles-list" class="new-articles-list">
                            <p class="empty-small">ë¡œë”©ì¤‘...</p>
                        </div>
                    </div>

                    <!-- ìµœê·¼ ë±ƒì§€ -->
                    <div class="dash-card badges-card">
                        <h3>ğŸ† ìµœê·¼ íšë“ ë±ƒì§€</h3>
                        <div id="recent-badges" class="recent-badges">
                            <p class="empty-small">ì•„ì§ ë±ƒì§€ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                        </div>
                        <button class="btn btn-ghost btn-block" onclick="navigateTo('achievements')">
                            ì „ì²´ ë³´ê¸° â†’
                        </button>
                    </div>

                    <!-- D-Day -->
                    <div class="dash-card dday-card">
                        <h3>ğŸ“… D-Day</h3>
                        <div class="dday-display" id="dday-display">
                            <p class="empty-small">ëª©í‘œë¥¼ ì„¤ì •í•˜ì„¸ìš”</p>
                        </div>
                        <button class="btn btn-ghost btn-sm" onclick="openDdayModal()">+ ëª©í‘œ ì¶”ê°€</button>
                    </div>
                </div>

                <!-- ì¼ê¸°/ë©”ëª¨ -->
                <div class="dash-card diary-card">
                    <div class="card-header">
                        <h3>ğŸ“ ì˜¤ëŠ˜ì˜ í•™ìŠµ ì¼ê¸°</h3>
                        <button class="btn btn-ghost btn-sm" onclick="saveDiary()">ì €ì¥</button>
                    </div>
                    <textarea id="diary-text" placeholder="ì˜¤ëŠ˜ í•™ìŠµí•˜ë©´ì„œ ëŠë‚€ ì , ì–´ë ¤ì› ë˜ ë¶€ë¶„, ê¸°ì–µí•˜ê³  ì‹¶ì€ í‘œí˜„ ë“±ì„ ììœ ë¡­ê²Œ ì ì–´ë³´ì„¸ìš”..."></textarea>
                </div>
            </section>

            <!-- ========== ê¸°ì‚¬ ëª©ë¡ ========== -->
            <section class="view" id="view-articles">
                <header class="view-header">
                    <h2>ğŸ“° ê¸°ì‚¬ í•™ìŠµ</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openArticleUpdateModal()">
                            ğŸ”„ ìƒˆ ê¸°ì‚¬ ê°€ì ¸ì˜¤ê¸°
                        </button>
                    </div>
                </header>
                <div class="filters-bar">
                    <select id="filter-cat">
                        <option value="all">ì „ì²´ ë¶„ì•¼</option>
                        <option value="economy">ğŸ’¹ ê²½ì œ/ê¸ˆìœµ</option>
                        <option value="politics">ğŸŒ êµ­ì œì •ì¹˜</option>
                        <option value="law">âš–ï¸ ë²•ë¥ </option>
                        <option value="health">ğŸ¥ ì˜ë£Œ</option>
                        <option value="tech">ğŸ’» ê¸°ìˆ </option>
                    </select>
                    <select id="filter-level">
                        <option value="all">ì „ì²´ ë ˆë²¨</option>
                        <option value="beginner">ğŸŒ± ì´ˆê¸‰</option>
                        <option value="intermediate">ğŸ“š ì¤‘ê¸‰</option>
                        <option value="advanced">ğŸ“ ê³ ê¸‰</option>
                        <option value="expert">ğŸ‘‘ ì‹¬í™”</option>
                    </select>
                    <select id="filter-direction">
                        <option value="en-ko">ğŸ‡ºğŸ‡¸â†’ğŸ‡°ğŸ‡· ì˜í•œ</option>
                        <option value="ko-en">ğŸ‡°ğŸ‡·â†’ğŸ‡ºğŸ‡¸ í•œì˜</option>
                    </select>
                    <select id="filter-sort">
                        <option value="newest">ğŸ†• ìµœì‹ ìˆœ</option>
                        <option value="oldest">ğŸ“… ì˜¤ë˜ëœìˆœ</option>
                        <option value="difficulty">ğŸ“Š ë‚œì´ë„ìˆœ</option>
                    </select>
                </div>
                <div id="articles-grid" class="articles-grid"></div>
            </section>

            <!-- ========== ë²ˆì—­ ì—°ìŠµ ========== -->
            <section class="view" id="view-translate">
                <header class="view-header">
                    <h2>âœï¸ ë²ˆì—­ ì—°ìŠµ</h2>
                    <div class="header-actions">
                        <div class="direction-toggle">
                            <button class="dir-btn active" data-dir="en-ko" onclick="setTranslateDirection('en-ko')">
                                ğŸ‡ºğŸ‡¸â†’ğŸ‡°ğŸ‡· ì˜í•œ
                            </button>
                            <button class="dir-btn" data-dir="ko-en" onclick="setTranslateDirection('ko-en')">
                                ğŸ‡°ğŸ‡·â†’ğŸ‡ºğŸ‡¸ í•œì˜
                            </button>
                        </div>
                        <button class="btn btn-secondary" onclick="navigateTo('articles')">ğŸ“° ê¸°ì‚¬ ë³€ê²½</button>
                        <button class="btn btn-icon" onclick="stopTTS()">ğŸ”‡</button>
                    </div>
                </header>

                <div id="trans-empty" class="empty-box">
                    <div class="empty-icon">ğŸ“°</div>
                    <p>ë¨¼ì € ê¸°ì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                    <button class="btn btn-primary" onclick="navigateTo('articles')">ê¸°ì‚¬ ì„ íƒí•˜ê¸°</button>
                </div>

                <div id="trans-content" style="display:none;">
                    <div class="trans-article-info">
                        <span class="trans-cat" id="trans-cat"></span>
                        <span class="trans-level" id="trans-level"></span>
                        <h3 id="trans-title"></h3>
                    </div>

                    <div class="trans-progress-bar">
                        <div class="trans-progress-fill" id="trans-progress-fill"></div>
                        <span class="trans-progress-text" id="trans-progress-text">0 / 0</span>
                    </div>

                    <div class="trans-workspace">
                        <div class="phrase-card">
                            <div class="phrase-header">
                                <span class="phrase-num" id="phrase-num">1</span>
                                <button class="btn-icon" onclick="speakPhrase()">ğŸ”Š</button>
                            </div>
                            <p class="phrase-text" id="phrase-text"></p>
                        </div>

                        <div class="trans-input-area">
                            <textarea id="trans-input" placeholder="ë²ˆì—­ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                            <div class="trans-actions">
                                <button class="btn btn-ghost" onclick="skipPhrase()">ê±´ë„ˆë›°ê¸°</button>
                                <button class="btn btn-primary" onclick="submitWithGPT()">
                                    ğŸš€ Sonnet ì²¨ì‚­
                                </button>
                                <button class="btn btn-premium" onclick="submitWithClaude()">
                                    âœ¨ Opus í”„ë¦¬ë¯¸ì—„
                                </button>
                            </div>
                        </div>

                        <div class="feedback-area" id="feedback-area" style="display:none;">
                            <div class="feedback-score">
                                <span class="score-num" id="feedback-score">0</span>
                                <span class="score-label">ì </span>
                            </div>
                            <div class="feedback-content" id="feedback-content"></div>
                            <button class="btn btn-primary" onclick="nextPhrase()">ë‹¤ìŒ ë¬¸ì¥ â†’</button>
                        </div>
                    </div>

                    <div class="key-terms-panel">
                        <h4>ğŸ“– í•µì‹¬ ìš©ì–´</h4>
                        <div id="key-terms-list" class="key-terms-list"></div>
                    </div>
                </div>
            </section>

            <!-- ========== í†µì—­ ì—°ìŠµ ========== -->
            <section class="view" id="view-interpret">
                <header class="view-header">
                    <h2>ğŸ™ï¸ í†µì—­ ì—°ìŠµ</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="navigateTo('articles')">ğŸ“° ê¸°ì‚¬ ë³€ê²½</button>
                    </div>
                </header>

                <div id="interp-empty" class="empty-box">
                    <div class="empty-icon">ğŸ™ï¸</div>
                    <p>ê¸°ì‚¬ë¥¼ ì„ íƒí•˜ê³  í†µì—­ ì—°ìŠµì„ ì‹œì‘í•˜ì„¸ìš”</p>
                    <button class="btn btn-primary" onclick="navigateTo('articles')">ê¸°ì‚¬ ì„ íƒí•˜ê¸°</button>
                </div>

                <div id="interp-content" style="display:none;">
                    <div class="interp-stages">
                        <div class="stage active" data-stage="1">
                            <span class="stage-num">1</span>
                            <span class="stage-name">ë“£ê¸°</span>
                        </div>
                        <div class="stage" data-stage="2">
                            <span class="stage-num">2</span>
                            <span class="stage-name">ê¸°ì–µ</span>
                        </div>
                        <div class="stage" data-stage="3">
                            <span class="stage-num">3</span>
                            <span class="stage-name">ë…¹ìŒ</span>
                        </div>
                        <div class="stage" data-stage="4">
                            <span class="stage-num">4</span>
                            <span class="stage-name">í‰ê°€</span>
                        </div>
                    </div>

                    <div class="interp-workspace" id="interp-workspace">
                        <!-- ë™ì  ì½˜í…ì¸  -->
                    </div>
                </div>
            </section>

            <!-- ========== ë‹¨ì–´ì¥ ========== -->
            <section class="view" id="view-vocabulary">
                <header class="view-header">
                    <h2>ğŸ“š ë‹¨ì–´ì¥</h2>
                    <button class="btn btn-primary" onclick="openWordModal()">+ ë‹¨ì–´ ì¶”ê°€</button>
                </header>

                <div class="vocab-tabs">
                    <button class="tab-btn active" data-tab="today">ì˜¤ëŠ˜ ì¶”ê°€</button>
                    <button class="tab-btn" data-tab="all">ì „ì²´</button>
                    <button class="tab-btn" data-tab="starred">â­ ì¤‘ìš”</button>
                    <button class="tab-btn" data-tab="review">ğŸ”„ ë³µìŠµ</button>
                </div>

                <div id="vocab-list" class="vocab-list"></div>
            </section>

            <!-- ========== ë¯¸ë‹ˆê²Œì„ ========== -->
            <section class="view" id="view-games">
                <header class="view-header">
                    <h2>ğŸ® ë¯¸ë‹ˆê²Œì„</h2>
                </header>

                <div class="games-grid">
                    <!-- ë‹¨ì–´ í€´ì¦ˆ -->
                    <div class="game-card" onclick="startGame('quiz')">
                        <div class="game-icon">ğŸ¯</div>
                        <h3>ë‹¨ì–´ í€´ì¦ˆ</h3>
                        <p>4ì§€ì„ ë‹¤ë¡œ ë‹¨ì–´ ì‹¤ë ¥ í…ŒìŠ¤íŠ¸</p>
                        <div class="game-best">ìµœê³ : <span id="quiz-best">0</span>ì </div>
                    </div>

                    <!-- íƒ€ì ê²Œì„ -->
                    <div class="game-card" onclick="startGame('typing')">
                        <div class="game-icon">âŒ¨ï¸</div>
                        <h3>íƒ€ì ê²Œì„</h3>
                        <p>ë–¨ì–´ì§€ëŠ” ë‹¨ì–´ë¥¼ ë¹ ë¥´ê²Œ ì…ë ¥!</p>
                        <div class="game-best">ìµœê³ : <span id="typing-best">0</span>ì </div>
                    </div>

                    <!-- ë§¤ì¹­ ê²Œì„ -->
                    <div class="game-card" onclick="startGame('matching')">
                        <div class="game-icon">ğŸƒ</div>
                        <h3>ë§¤ì¹­ ê²Œì„</h3>
                        <p>ì˜ì–´-í•œêµ­ì–´ ì§ ë§ì¶”ê¸°</p>
                        <div class="game-best">ìµœê³ : <span id="matching-best">0</span>ì´ˆ</div>
                    </div>

                    <!-- ìŠ¤í”¼ë“œ í€´ì¦ˆ -->
                    <div class="game-card" onclick="startGame('speed')">
                        <div class="game-icon">âš¡</div>
                        <h3>ìŠ¤í”¼ë“œ í€´ì¦ˆ</h3>
                        <p>30ì´ˆ ì•ˆì— ìµœëŒ€í•œ ë§ì´!</p>
                        <div class="game-best">ìµœê³ : <span id="speed-best">0</span>ê°œ</div>
                    </div>

                    <!-- ê°€ì±  -->
                    <div class="game-card gacha-card" onclick="openGacha()">
                        <div class="game-icon">ğŸ</div>
                        <h3>ì˜¤ëŠ˜ì˜ ê°€ì± </h3>
                        <p>í•™ìŠµ ì™„ë£Œ ë³´ìƒ ë½‘ê¸°!</p>
                        <div class="gacha-tickets">í‹°ì¼“: <span id="gacha-tickets">0</span>ì¥</div>
                    </div>
                </div>

                <!-- ê²Œì„ í”Œë ˆì´ ì˜ì—­ -->
                <div id="game-play-area" class="game-play-area" style="display:none;"></div>
            </section>

            <!-- ========== ìº¡ì³ ë²ˆì—­ (OCR) ========== -->
            <section class="view" id="view-ocr">
                <header class="view-header">
                    <h2>ğŸ“¸ ìº¡ì³ ë²ˆì—­</h2>
                    <p style="font-size:13px;color:var(--text-secondary);">ë¬¸ì„œë¥¼ ìº¡ì³/ì´¬ì˜í•˜ì—¬ ë²ˆì—­ í•™ìŠµ ìë£Œë¡œ ë³€í™˜</p>
                </header>

                <div class="dash-card" style="margin-bottom:20px;">
                    <h3 style="margin-bottom:12px;">ğŸ“· ì´ë¯¸ì§€ ì—…ë¡œë“œ</h3>
                    <p style="font-size:13px;color:var(--text-secondary);margin-bottom:16px;">ìº¡ì³í•œ ë¬¸ì„œ, êµì¬, ë‰´ìŠ¤ ë“±ì˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë©´ AIê°€ í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•˜ê³  ë²ˆì—­ í•™ìŠµìš©ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>
                    
                    <div id="ocr-upload-area" style="border:2px dashed var(--border-color);border-radius:12px;padding:40px 20px;text-align:center;cursor:pointer;transition:all 0.2s;" onclick="document.getElementById('ocr-file-input').click()">
                        <div style="font-size:48px;margin-bottom:12px;">ğŸ“„</div>
                        <p style="font-weight:600;margin-bottom:4px;">ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</p>
                        <small style="color:var(--text-secondary);">PNG, JPG, WEBP ì§€ì› Â· ìµœëŒ€ 10MB</small>
                        <input type="file" id="ocr-file-input" accept="image/*" style="display:none;" onchange="handleOCRUpload(event)">
                    </div>
                    
                    <!-- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° -->
                    <div id="ocr-preview" style="display:none;margin-top:16px;">
                        <img id="ocr-preview-img" style="max-width:100%;max-height:300px;border-radius:8px;border:1px solid var(--border-color);">
                        <div style="display:flex;gap:8px;margin-top:12px;">
                            <button class="btn btn-primary" onclick="processOCR()" id="ocr-process-btn">ğŸ” AI í…ìŠ¤íŠ¸ ì¶”ì¶œ & ë²ˆì—­</button>
                            <button class="btn btn-secondary" onclick="clearOCR()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
                        </div>
                    </div>
                </div>

                <!-- OCR ê²°ê³¼ -->
                <div id="ocr-result" style="display:none;">
                    <div class="dash-card" style="margin-bottom:16px;">
                        <h3 style="margin-bottom:12px;">ğŸ“ ì¶”ì¶œëœ ì›ë¬¸</h3>
                        <div id="ocr-original-text" style="background:var(--bg-tertiary);padding:16px;border-radius:8px;line-height:1.8;font-size:15px;white-space:pre-wrap;"></div>
                        <div style="display:flex;gap:8px;margin-top:12px;">
                            <span id="ocr-language" class="model-badge premium"></span>
                            <span id="ocr-difficulty" class="model-badge gpt"></span>
                        </div>
                    </div>
                    
                    <div class="dash-card" style="margin-bottom:16px;">
                        <h3 style="margin-bottom:12px;">ğŸ”€ ë¬¸ì¥ë³„ ë²ˆì—­</h3>
                        <div id="ocr-sentences" style="display:flex;flex-direction:column;gap:12px;"></div>
                    </div>
                    
                    <div class="dash-card" style="margin-bottom:16px;">
                        <h3 style="margin-bottom:12px;">ğŸ“‹ ìš”ì•½</h3>
                        <p id="ocr-summary" style="line-height:1.7;"></p>
                    </div>
                    
                    <div style="display:flex;gap:8px;flex-wrap:wrap;">
                        <button class="btn btn-primary" onclick="addOCRToArticles()">ğŸ“° ê¸°ì‚¬ë¡œ ì¶”ê°€</button>
                        <button class="btn btn-secondary" onclick="copyOCRText()">ğŸ“‹ í…ìŠ¤íŠ¸ ë³µì‚¬</button>
                    </div>
                </div>
            </section>

            <!-- ========== í†µë²ˆì—­ AI ë¦¬ì„œì¹˜ ========== -->
            <section class="view" id="view-counseling">
                <header class="view-header">
                    <h2>ğŸ’­ AI ë©˜í† </h2>
                    <p style="font-size:13px;color:var(--text-secondary);">í†µë²ˆì—­ ê³µë¶€, ëŒ€í•™ì› ìƒí™œ, ë­ë“  í¸í•˜ê²Œ ë¬¼ì–´ë´ ğŸŒ±</p>
                </header>

                <!-- ëª¨ë“œ ì„ íƒ -->
                <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:20px;" id="counseling-type-selector">
                    <button class="btn btn-sm counseling-type-btn active" data-type="general" onclick="setCounselingType('general')">ğŸŒ± í†µë²ˆì—­ ë©˜í† ë§</button>
                    <button class="btn btn-sm btn-secondary counseling-type-btn" data-type="career" onclick="setCounselingType('career')">ğŸ“– ì´ë¡ /ê³µë¶€ ë„ì›€</button>
                    <button class="btn btn-sm btn-secondary counseling-type-btn" data-type="stress" onclick="setCounselingType('stress')">ğŸ’ª ë©˜íƒˆ ê´€ë¦¬</button>
                    <button class="btn btn-sm btn-secondary counseling-type-btn" data-type="relationship" onclick="setCounselingType('relationship')">ğŸ—ºï¸ ì§„ë¡œ ìƒë‹´</button>
                </div>

                <!-- ë¹ ë¥¸ ì§ˆë¬¸ -->
                <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px;" class="quick-prompts">
                    <button class="btn btn-sm btn-secondary" onclick="quickResearch('ë²ˆì—­ ê³¼ì œê°€ ë„ˆë¬´ ì–´ë ¤ì›Œì„œ ìì‹ ê°ì´ ì—†ì–´... ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œ?')" style="font-size:12px;">ğŸ˜° ê³¼ì œê°€ ë„ˆë¬´ ì–´ë ¤ì›Œ</button>
                    <button class="btn btn-sm btn-secondary" onclick="quickResearch('ë™ì‹œí†µì—­ ì—°ìŠµì„ ì‹œì‘í•˜ê³  ì‹¶ì€ë° í˜¼ìì„œ ì–´ë–»ê²Œ ì¤€ë¹„í•˜ë©´ ì¢‹ì„ì§€ ì•Œë ¤ì¤˜')" style="font-size:12px;">ğŸ™ï¸ í†µì—­ ì—°ìŠµë²•</button>
                    <button class="btn btn-sm btn-secondary" onclick="quickResearch('ë²ˆì—­ ì†ë„ê°€ ë„ˆë¬´ ëŠë¦°ë°, ì‹¤ë¬´ì—ì„œ ì–´ëŠ ì •ë„ ì†ë„ê°€ í•„ìš”í•œ ê±°ì•¼?')" style="font-size:12px;">â° ë²ˆì—­ ì†ë„ ê³ ë¯¼</button>
                    <button class="btn btn-sm btn-secondary" onclick="quickResearch('ëŒ€í•™ì› ë‹¤ë‹ˆë©´ì„œ ë²ˆì—­ ì•„ë¥´ë°”ì´íŠ¸ ê²½í—˜ì„ ìŒ“ê³  ì‹¶ì€ë°, ì–´ë””ì„œ ì‹œì‘í•´?')" style="font-size:12px;">ğŸ’¼ ì‹¤ë¬´ ê²½í—˜ ìŒ“ê¸°</button>
                </div>

                <!-- ì±„íŒ… ì˜ì—­ -->
                <div class="dash-card" style="padding:0;overflow:hidden;">
                    <div id="counseling-messages" style="height:500px;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:16px;">
                        <div class="counsel-msg counsel-ai">
                            <div class="counsel-avatar">ğŸŒ±</div>
                            <div class="counsel-bubble">
                                <p>ì•ˆë…•! ë‚˜ëŠ” ëŒ€ì˜ì´ì˜ <strong>AI ë©˜í† </strong>ì•¼ ğŸ˜Š</p>
                                <p style="margin-top:8px;">í†µë²ˆì—­ ê³µë¶€í•˜ë©´ì„œ ì–´ë ¤ìš´ ê±°, ë§‰íˆëŠ” ê±°, ë¶ˆì•ˆí•œ ê±°... ë­ë“  í¸í•˜ê²Œ ë¬¼ì–´ë´. ë°”ë³´ ê°™ì€ ì§ˆë¬¸ ê°™ì€ ê±´ ì—†ì–´!</p>
                                <p style="margin-top:8px;font-size:13px;color:var(--text-secondary);">ğŸ’¡ ì´ëŸ° ê±° ë¬¼ì–´ë³¼ ìˆ˜ ìˆì–´: ë²ˆì—­ ì´ë¡ , í†µì—­ ì—°ìŠµë²•, ëŒ€í•™ì› íŒ, ì§„ë¡œ ê³ ë¯¼, ë©˜íƒˆ ê´€ë¦¬...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="border-top:1px solid var(--border-color);padding:16px;display:flex;gap:8px;align-items:flex-end;">
                        <textarea id="counseling-input" placeholder="ë­ë“  í¸í•˜ê²Œ ë¬¼ì–´ë´! ğŸ˜Š" style="flex:1;resize:none;height:60px;padding:12px;border-radius:12px;border:1px solid var(--border-color);font-size:14px;line-height:1.5;font-family:inherit;" onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendCounselingMessage()}"></textarea>
                        <button class="btn btn-primary" onclick="sendCounselingMessage()" style="height:60px;padding:0 20px;border-radius:12px;">
                            ë³´ë‚´ê¸° âœ¨
                        </button>
                    </div>
                </div>

                <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap;">
                    <button class="btn btn-sm btn-secondary" onclick="clearCounseling()">ğŸ”„ ìƒˆ ëŒ€í™”</button>
                    <button class="btn btn-sm btn-secondary" onclick="saveCounselingLog()">ğŸ’¾ ëŒ€í™” ì €ì¥</button>
                    <span style="margin-left:auto;font-size:12px;color:var(--text-secondary);display:flex;align-items:center;gap:4px;">
                        ğŸŒ± Claude Sonnet 4 Â· ëŒ€ì˜ì´ ì „ìš© ë©˜í† 
                    </span>
                </div>
            </section>

            <!-- ========== í†µë²ˆì—­ ë„êµ¬ ì¶”ì²œ ========== -->
            <section class="view" id="view-tools">
                <header class="view-header">
                    <h2>ğŸ› ï¸ í†µë²ˆì—­ì‚¬ í•„ìˆ˜ ë„êµ¬</h2>
                    <p style="font-size:13px;color:var(--text-secondary);">ì „ë¬¸ í†µë²ˆì—­ì‚¬ë¥¼ ìœ„í•œ AI & CAT Tool ê°€ì´ë“œ</p>
                </header>

                <!-- CAT Tools -->
                <div class="dash-card tool-category-card" style="margin-bottom:20px;">
                    <h3 style="margin-bottom:16px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:24px;">ğŸ–¥ï¸</span> CAT Tools (ë²ˆì—­ ë³´ì¡° ë„êµ¬)
                    </h3>
                    <div class="tool-grid">
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>SDL Trados Studio</strong>
                                <span class="tool-badge tool-pro">ì—…ê³„ í‘œì¤€</span>
                            </div>
                            <p>ê°€ì¥ ì˜¤ë˜ë˜ê³  ê°•ë ¥í•œ CAT ë„êµ¬. ë²ˆì—­ ë©”ëª¨ë¦¬, ìš©ì–´ ê´€ë¦¬, 100+ íŒŒì¼ í˜•ì‹ ì§€ì›. ëŒ€ê·œëª¨ ë‹¤êµ­ì–´ í”„ë¡œì íŠ¸ì— í•„ìˆ˜.</p>
                            <div class="tool-tags"><span>TM</span><span>ìš©ì–´ê´€ë¦¬</span><span>QA</span><span>í´ë¼ìš°ë“œ</span></div>
                            <div class="tool-price">ğŸ’° $260~/ë…„ (Freelance) Â· $460~ (Pro)</div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>memoQ</strong>
                                <span class="tool-badge tool-rec">ì¶”ì²œ</span>
                            </div>
                            <p>ì§ê´€ì  UI, ê°•ë ¥í•œ í˜‘ì—… ê¸°ëŠ¥, ê¸°ê³„ë²ˆì—­ ì—°ë™ ìš°ìˆ˜. ì´ˆë³´ìë¶€í„° ì—ì´ì „ì‹œê¹Œì§€ í­ë„“ê²Œ ì‚¬ìš©.</p>
                            <div class="tool-tags"><span>ì§ê´€ì </span><span>í˜‘ì—…</span><span>MTì—°ë™</span><span>ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°</span></div>
                            <div class="tool-price">ğŸ’° $770 (ì˜êµ¬ ë¼ì´ì„ ìŠ¤) Â· êµ¬ë…ì œ ë³„ë„</div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Smartcat</strong>
                                <span class="tool-badge tool-free">ë¬´ë£Œ í”Œëœ</span>
                            </div>
                            <p>í´ë¼ìš°ë“œ ê¸°ë°˜ ì˜¬ì¸ì›. CAT + í”„ë¡œì íŠ¸ ê´€ë¦¬ + ê²°ì œê¹Œì§€. 50ë§Œ+ ë²ˆì—­ê°€ ë§ˆì¼“í”Œë ˆì´ìŠ¤ ë³´ìœ .</p>
                            <div class="tool-tags"><span>í´ë¼ìš°ë“œ</span><span>ë¬´ë£Œ</span><span>ë§ˆì¼“í”Œë ˆì´ìŠ¤</span><span>280+ì–¸ì–´</span></div>
                            <div class="tool-price">ğŸ’° í”„ë¦¬ëœì„œ ë¬´ë£Œ Â· íŒ€/ê¸°ì—… ìœ ë£Œ</div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Wordfast Pro</strong>
                                <span class="tool-badge tool-free">ê°€ë²¼ì›€</span>
                            </div>
                            <p>ê°€ë³ê³  í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›. í•µì‹¬ CAT ê¸°ëŠ¥ì„ íƒ€ì´íŠ¸í•œ ì¼ì •ì— ë§ì¶° ë¹ ë¥´ê²Œ í™œìš© ê°€ëŠ¥.</p>
                            <div class="tool-tags"><span>ê°€ë²¼ì›€</span><span>í¬ë¡œìŠ¤í”Œë«í¼</span><span>TM</span></div>
                            <div class="tool-price">ğŸ’° $460 (ì˜êµ¬) Â· êµìœ¡ìš© í• ì¸</div>
                        </div>
                    </div>
                </div>

                <!-- AI ë²ˆì—­ ë„êµ¬ -->
                <div class="dash-card tool-category-card" style="margin-bottom:20px;">
                    <h3 style="margin-bottom:16px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:24px;">ğŸ¤–</span> AI ë²ˆì—­/í’ˆì§ˆ ë„êµ¬
                    </h3>
                    <div class="tool-grid">
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>DeepL Pro</strong>
                                <span class="tool-badge tool-rec">ì¶”ì²œ</span>
                            </div>
                            <p>ìœ ëŸ½ì–´ ìµœê³  í’ˆì§ˆ. ë§ì¶¤ ìš©ì–´ì§‘, ë²ˆì—­ ë©”ëª¨ë¦¬, í†¤ ì¡°ì ˆ(ê²©ì‹ì²´/ë¹„ê²©ì‹ì²´). ë²•ë¥ /ë§ˆì¼€íŒ… ë²ˆì—­ì— íŠ¹íˆ ê°•ë ¥.</p>
                            <div class="tool-tags"><span>ê³ í’ˆì§ˆ</span><span>ìš©ì–´ì§‘</span><span>í†¤ì¡°ì ˆ</span><span>í¬ë§·ìœ ì§€</span></div>
                            <div class="tool-price">ğŸ’° â‚¬8.99~/ì›” (Starter) Â· API ë³„ë„</div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Claude Sonnet / Opus</strong>
                                <span class="tool-badge tool-pro">LLM</span>
                            </div>
                            <p>ëŒ€ê·œëª¨ ì–¸ì–´ëª¨ë¸ì„ í™œìš©í•œ ë¬¸ë§¥ ê¸°ë°˜ ë²ˆì—­. í†¤/ìŠ¤íƒ€ì¼/ë„ë©”ì¸ ì»¤ìŠ¤í…€ì´ ììœ ë¡­ê³ , í¬ìŠ¤íŠ¸ì—ë””íŒ…ì— íƒì›”.</p>
                            <div class="tool-tags"><span>ë§¥ë½ì´í•´</span><span>ì»¤ìŠ¤í…€</span><span>MTPE</span><span>ë‹¤ìš©ë„</span></div>
                            <div class="tool-price">ğŸ’° $20~/ì›” (ê° Pro í”Œëœ) Â· API ì¢…ëŸ‰ì œ</div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>OpenL Translate</strong>
                                <span class="tool-badge tool-free">ë¬´ë£Œ í¬ë ˆë”§</span>
                            </div>
                            <p>100+ ì–¸ì–´ AI ë²ˆì—­. ë¬¸ì„œ/ì´ë¯¸ì§€/ì˜¤ë””ì˜¤ ë²ˆì—­ ì§€ì›. ë¬¸ë²• êµì • ë° ì–¸ì–´ í•™ìŠµ ê¸°ëŠ¥ ë‚´ì¥.</p>
                            <div class="tool-tags"><span>100+ì–¸ì–´</span><span>ë¬¸ì„œë²ˆì—­</span><span>í•™ìŠµê¸°ëŠ¥</span></div>
                            <div class="tool-price">ğŸ’° ì¼ 30íšŒ ë¬´ë£Œ Â· $9.99~/ì›” Pro</div>
                        </div>
                    </div>
                </div>

                <!-- í†µì—­ ë„êµ¬ -->
                <div class="dash-card tool-category-card" style="margin-bottom:20px;">
                    <h3 style="margin-bottom:16px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:24px;">ğŸ™ï¸</span> ì‹¤ì‹œê°„ í†µì—­/íšŒì˜ ë„êµ¬
                    </h3>
                    <div class="tool-grid">
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Interprefy</strong>
                                <span class="tool-badge tool-pro">ì—”í„°í”„ë¼ì´ì¦ˆ</span>
                            </div>
                            <p>ëŒ€ê·œëª¨ ë‹¤êµ­ì–´ ì´ë²¤íŠ¸ ì „ë¬¸. AI ìŒì„± ë²ˆì—­ + ì›ê²© ë™ì‹œí†µì—­ + ì‹¤ì‹œê°„ ìë§‰. ê¸€ë¡œë²Œ ì»¨í¼ëŸ°ìŠ¤ í•„ìˆ˜.</p>
                            <div class="tool-tags"><span>ë™ì‹œí†µì—­</span><span>ì´ë²¤íŠ¸</span><span>ì‹¤ì‹œê°„ìë§‰</span></div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>KUDO</strong>
                                <span class="tool-badge tool-pro">200+ì–¸ì–´</span>
                            </div>
                            <p>í†µì—­ì‚¬ ë§ˆì¼“í”Œë ˆì´ìŠ¤ + AI ìë§‰. Zoom/Teams í”ŒëŸ¬ê·¸ì¸. ì´ë²¤íŠ¸ ê¸°ë°˜ pay-as-you-go ëª¨ë¸.</p>
                            <div class="tool-tags"><span>ë§ˆì¼“í”Œë ˆì´ìŠ¤</span><span>Zoomì—°ë™</span><span>AIìë§‰</span></div>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Boostlingo</strong>
                                <span class="tool-badge tool-rec">í•˜ì´ë¸Œë¦¬ë“œ</span>
                            </div>
                            <p>AI + ì¸ê°„ í†µì—­ í•˜ì´ë¸Œë¦¬ë“œ. ì˜ë£Œ/ë²•ë¥  ë“± ì •í™•ë„ê°€ ì¤‘ìš”í•œ ë¶„ì•¼ì—ì„œ ê°•ë ¥. 130+ ì–¸ì–´ ì‹¤ì‹œê°„ ìë§‰.</p>
                            <div class="tool-tags"><span>í•˜ì´ë¸Œë¦¬ë“œ</span><span>ì˜ë£Œ/ë²•ë¥ </span><span>130+ì–¸ì–´</span></div>
                        </div>
                    </div>
                </div>

                <!-- ë¶€ê°€ ë„êµ¬ -->
                <div class="dash-card tool-category-card">
                    <h3 style="margin-bottom:16px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:24px;">ğŸ“¦</span> ë¶€ê°€ ìƒì‚°ì„± ë„êµ¬
                    </h3>
                    <div class="tool-grid">
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Grammarly / ProWritingAid</strong>
                            </div>
                            <p>ì˜ì–´ ë²ˆì—­ë¬¸ ë¬¸ë²•/ìŠ¤íƒ€ì¼ êµì •. í†¤ ê°ì§€, í‘œì ˆ ê²€ì‚¬, ê°€ë…ì„± ì ìˆ˜. í¬ìŠ¤íŠ¸ì—ë””íŒ… í•„ìˆ˜ ë„êµ¬.</p>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Notion / Obsidian</strong>
                            </div>
                            <p>ë²ˆì—­ í”„ë¡œì íŠ¸ ê´€ë¦¬ + ìš©ì–´ ì •ë¦¬ + ë ˆí¼ëŸ°ìŠ¤ ì•„ì¹´ì´ë¹™. ê°œì¸ ìš©ì–´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•ì— í™œìš©.</p>
                        </div>
                        <div class="tool-item">
                            <div class="tool-header">
                                <strong>Otter.ai / Notta</strong>
                            </div>
                            <p>ìŒì„± ë…¹ìŒ ìë™ ì „ì‚¬. í†µì—­ ì—°ìŠµ í›„ ìê¸° í‰ê°€, íšŒì˜ ê¸°ë¡ ì •ë¦¬ì— ìœ ìš©.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========== ì•„ì¹´ì´ë¸Œ ========== -->
            <section class="view" id="view-archive">
                <header class="view-header">
                    <h2>ğŸ—‚ï¸ ì•„ì¹´ì´ë¸Œ</h2>
                    <select id="archive-filter">
                        <option value="all">ì „ì²´</option>
                        <option value="translation">ë²ˆì—­</option>
                        <option value="interpretation">í†µì—­</option>
                    </select>
                </header>
                <div id="archive-list" class="archive-list"></div>
            </section>

            <!-- ========== ì—…ì  ========== -->
            <section class="view" id="view-achievements">
                <header class="view-header">
                    <h2>ğŸ† ì—…ì  & ë±ƒì§€</h2>
                </header>

                <div class="achievements-summary">
                    <div class="ach-stat">
                        <span class="ach-num" id="ach-unlocked">0</span>
                        <span class="ach-label">íšë“</span>
                    </div>
                    <div class="ach-stat">
                        <span class="ach-num" id="ach-total">0</span>
                        <span class="ach-label">ì „ì²´</span>
                    </div>
                    <div class="ach-stat">
                        <span class="ach-num" id="ach-percent">0%</span>
                        <span class="ach-label">ë‹¬ì„±ë¥ </span>
                    </div>
                </div>

                <div class="achievements-tabs">
                    <button class="ach-tab active" data-tab="all">ì „ì²´</button>
                    <button class="ach-tab" data-tab="streak">ì—°ì†</button>
                    <button class="ach-tab" data-tab="count">íšŸìˆ˜</button>
                    <button class="ach-tab" data-tab="special">íŠ¹ë³„</button>
                </div>

                <div id="achievements-grid" class="achievements-grid"></div>
            </section>

            <!-- ========== ê¾¸ë¯¸ê¸° ========== -->
            <section class="view" id="view-customize">
                <header class="view-header">
                    <h2>ğŸ¨ í…Œë§ˆ ì„¤ì •</h2>
                </header>

                <div class="customize-grid">
                    <!-- í”„ë¡œí•„ -->
                    <div class="custom-card">
                        <h3>ğŸ‘¤ í”„ë¡œí•„</h3>
                        <div class="custom-field">
                            <label>ë‹‰ë„¤ì„</label>
                            <input type="text" id="custom-nickname" placeholder="DAYOUNG" maxlength="20">
                        </div>
                        <div class="custom-field">
                            <label>ë§ˆìŠ¤ì½”íŠ¸</label>
                            <div class="mascot-select">
                                <button class="mascot-opt active" data-mascot="ğŸ¦œ" onclick="selectMascot('ğŸ¦œ')">ğŸ¦œ</button>
                                <button class="mascot-opt" data-mascot="ğŸ±" onclick="selectMascot('ğŸ±')">ğŸ±</button>
                                <button class="mascot-opt" data-mascot="ğŸ¦Š" onclick="selectMascot('ğŸ¦Š')">ğŸ¦Š</button>
                                <button class="mascot-opt" data-mascot="ğŸ»" onclick="selectMascot('ğŸ»')">ğŸ»</button>
                                <button class="mascot-opt" data-mascot="ğŸ°" onclick="selectMascot('ğŸ°')">ğŸ°</button>
                                <button class="mascot-opt" data-mascot="ğŸ¶" onclick="selectMascot('ğŸ¶')">ğŸ¶</button>
                            </div>
                        </div>
                    </div>

                    <!-- í…Œë§ˆ -->
                    <div class="custom-card">
                        <h3>ğŸ¨ í…Œë§ˆ</h3>
                        <div class="theme-select">
                            <button class="theme-opt" data-theme="light" onclick="setTheme('light')">
                                <span class="theme-preview light"></span>
                                <span>ë¼ì´íŠ¸</span>
                            </button>
                            <button class="theme-opt active" data-theme="dark" onclick="setTheme('dark')">
                                <span class="theme-preview dark"></span>
                                <span>ë‹¤í¬</span>
                            </button>
                            <button class="theme-opt" data-theme="pastel" onclick="setTheme('pastel')">
                                <span class="theme-preview pastel"></span>
                                <span>íŒŒìŠ¤í…”</span>
                            </button>
                            <button class="theme-opt" data-theme="ocean" onclick="setTheme('ocean')">
                                <span class="theme-preview ocean"></span>
                                <span>ë°”ë‹¤</span>
                            </button>
                            <button class="theme-opt" data-theme="forest" onclick="setTheme('forest')">
                                <span class="theme-preview forest"></span>
                                <span>ìˆ²</span>
                            </button>
                            <button class="theme-opt" data-theme="sakura" onclick="setTheme('sakura')">
                                <span class="theme-preview sakura"></span>
                                <span>ë²šê½ƒ</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="customize-actions">
                    <button class="btn btn-primary btn-lg" onclick="saveCustomization()">
                        ğŸ’¾ ì €ì¥í•˜ê¸°
                    </button>
                </div>
            </section>

            <!-- ========== ì„¤ì • ========== -->
            <section class="view" id="view-settings">
                <header class="view-header">
                    <h2>âš™ï¸ ì„¤ì •</h2>
                </header>

                <div class="settings-grid">
                    <!-- í•™ìŠµ ì„¤ì • -->
                    <div class="settings-card">
                        <h3>ğŸ“š í•™ìŠµ ì„¤ì •</h3>
                        <div class="setting-item">
                            <label>ì¼ì¼ í•™ìŠµ ëª©í‘œ (ë¶„)</label>
                            <input type="number" id="set-goal" min="10" max="300" value="60">
                        </div>
                        <div class="setting-item">
                            <label>TTS ì†ë„</label>
                            <input type="range" id="set-tts-speed" min="0.5" max="1.5" step="0.1" value="0.9">
                            <span id="tts-speed-val">0.9x</span>
                        </div>
                        <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ ì„¤ì • ì €ì¥</button>
                    </div>

                    <!-- AI ì—°ë™ ìƒíƒœ -->
                    <div class="settings-card">
                        <h3>ğŸ¤– AI ì—°ë™ ìƒíƒœ</h3>
                        <div class="setting-item">
                            <p style="color: var(--accent-primary);">âœ… Google Cloud í”„ë¡ì‹œ ì—°ê²°ë¨</p>
                            <small>Claude Sonnet 4 / Claude Opus 4 ì‚¬ìš© ê°€ëŠ¥</small>
                        </div>
                        <div class="setting-item">
                            <label>ê¸°ì‚¬ ìë™ ì—…ë°ì´íŠ¸</label>
                            <small>Firebase Functionsë¡œ ë§¤ì¼ ìë™ ìƒì„±ë©ë‹ˆë‹¤</small>
                        </div>
                    </div>

                    <!-- D-Day ì„¤ì • -->
                    <div class="settings-card">
                        <h3>ğŸ“… D-Day ì„¤ì •</h3>
                        <div class="setting-item">
                            <label>ëª©í‘œ ì´ë¦„</label>
                            <input type="text" id="set-dday-name" placeholder="í†µë²ˆì—­ ëŒ€í•™ì› ì‹œí—˜">
                        </div>
                        <div class="setting-item">
                            <label>ëª©í‘œ ë‚ ì§œ</label>
                            <input type="date" id="set-dday-date">
                        </div>
                        <button class="btn btn-secondary" onclick="saveDday()">D-Day ì €ì¥</button>
                    </div>

                    <!-- ê¸°ê¸° ê°„ ë™ê¸°í™” -->
                    <div class="settings-card">
                        <h3>ğŸ“² ê¸°ê¸° ê°„ ë™ê¸°í™”</h3>
                        <div id="sync-status">
                            <p style="font-size:13px;color:var(--text-secondary);">ë¡œë”© ì¤‘...</p>
                        </div>
                    </div>

                    <!-- ë°ì´í„° ê´€ë¦¬ -->
                    <div class="settings-card">
                        <h3>ğŸ’¾ ë°ì´í„° ê´€ë¦¬</h3>
                        <div class="setting-buttons">
                            <button class="btn btn-secondary" onclick="exportData()">ğŸ“¤ ë°ì´í„° ë‚´ë³´ë‚´ê¸°</button>
                            <button class="btn btn-secondary" onclick="importData()">ğŸ“¥ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°</button>
                            <button class="btn btn-warning" onclick="clearAllCache()">ğŸ”„ ìºì‹œ ì´ˆê¸°í™”</button>
                            <button class="btn btn-danger" onclick="resetData()">ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”</button>
                        </div>
                        <small style="color:var(--text-secondary);margin-top:8px;display:block;">
                            ìºì‹œ ì´ˆê¸°í™”: ìµœì‹  ë²„ì „ìœ¼ë¡œ ê°•ì œ ìƒˆë¡œê³ ì¹¨ (í•™ìŠµ ë°ì´í„° ìœ ì§€)<br>
                            ë°ì´í„° ì´ˆê¸°í™”: ëª¨ë“  í•™ìŠµ ê¸°ë¡ ì‚­ì œ
                        </small>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- ========== ëª¨ë‹¬ë“¤ ========== -->

    <!-- ì—…ë°ì´íŠ¸ ì•Œë¦¼ ëª¨ë‹¬ -->
    <div class="modal" id="update-notice-modal">
        <div class="modal-content" style="max-width:480px;">
            <div class="modal-header" style="background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border-radius:16px 16px 0 0;">
                <h3 style="margin:0;">ğŸ‰ ì—…ë°ì´íŠ¸ ì•Œë¦¼</h3>
                <button class="modal-close" onclick="closeUpdateNotice()" style="color:white;">Ã—</button>
            </div>
            <div class="modal-body" id="update-notice-body" style="max-height:50vh;overflow-y:auto;">
            </div>
            <div class="modal-footer" style="justify-content:center;">
                <button class="btn btn-primary" onclick="closeUpdateNotice()" style="min-width:120px;">í™•ì¸</button>
            </div>
        </div>
    </div>
    
    <!-- ë‹¨ì–´ ì¶”ê°€ ëª¨ë‹¬ -->
    <div class="modal" id="word-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ“ ë‹¨ì–´ ì¶”ê°€</h3>
                <button class="modal-close" onclick="closeWordModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ì˜ì–´</label>
                    <input type="text" id="nw-en" placeholder="English">
                </div>
                <div class="form-group">
                    <label>í•œêµ­ì–´</label>
                    <input type="text" id="nw-kr" placeholder="í•œêµ­ì–´">
                </div>
                <div class="form-group">
                    <label>í’ˆì‚¬</label>
                    <select id="nw-pos">
                        <option value="">ì„ íƒ</option>
                        <option value="n">ëª…ì‚¬</option>
                        <option value="v">ë™ì‚¬</option>
                        <option value="adj">í˜•ìš©ì‚¬</option>
                        <option value="adv">ë¶€ì‚¬</option>
                        <option value="phrase">êµ¬ë¬¸</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ì˜ˆë¬¸</label>
                    <textarea id="nw-ex" placeholder="ì˜ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeWordModal()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="addWord()">ì¶”ê°€</button>
            </div>
        </div>
    </div>

    <!-- ê¸°ì‚¬ ì—…ë°ì´íŠ¸ ëª¨ë‹¬ -->
    <div class="modal" id="article-update-modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3>ğŸ”„ ìƒˆ ê¸°ì‚¬ ê°€ì ¸ì˜¤ê¸°</h3>
                <button class="modal-close" onclick="closeArticleUpdateModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <div style="background: #fff3cd; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                    <p style="margin:0; color: #856404; font-size: 13px;">
                        âš ï¸ <strong>AI í™˜ê° ë°©ì§€</strong>: ì§ì ‘ ì…ë ¥í•˜ì‹  ê¸°ì‚¬ëŠ” ì›ë¬¸ ê·¸ëŒ€ë¡œ ì €ì¥ë©ë‹ˆë‹¤.<br>
                        AIëŠ” ë²ˆì—­ê³¼ ìš©ì–´ ì¶”ì¶œë§Œ ë‹´ë‹¹í•©ë‹ˆë‹¤.
                    </p>
                </div>
                <div class="update-options">
                    <div class="update-option" onclick="generateAIArticle()" style="border: 2px solid var(--accent-primary); background: rgba(99,102,241,0.05);">
                        <div class="opt-icon">âœ¨</div>
                        <h4>â­ AI ê¸°ì‚¬ ìƒì„± (ì¶”ì²œ)</h4>
                        <p>AIê°€ ì˜¤ëŠ˜ ë‚ ì§œ ê¸°ì‚¬ë¥¼ ì¦‰ì‹œ ìƒì„± + ë²ˆì—­</p>
                        <small style="color: #10b981; font-weight: 600;">âœ“ ê°€ì¥ ì‰½ê³  ë¹ ë¦„</small>
                    </div>
                    <div class="update-option" onclick="updateManual()">
                        <div class="opt-icon">âœï¸</div>
                        <h4>ì§ì ‘ ì…ë ¥</h4>
                        <p>ê¸°ì‚¬ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° â†’ ì›ë¬¸ 100% ìœ ì§€</p>
                        <small style="color: #6c757d;">AIëŠ” ë²ˆì—­ë§Œ ë‹´ë‹¹</small>
                    </div>
                    <div class="update-option" onclick="updateFromRSS()">
                        <div class="opt-icon">ğŸ“¡</div>
                        <h4>Firebase ìë™ ìˆ˜ì§‘</h4>
                        <p>NewsAPI ìë™ ìˆ˜ì§‘ (ì„œë²„)</p>
                        <small style="color: #6c757d;">* 1-2ë¶„ ì†Œìš”</small>
                    </div>
                </div>
                <div id="update-form-area" style="display:none; margin-top: 20px;">
                    <!-- ë™ì  í¼ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ê¸°ì‚¬ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div class="modal" id="article-detail-modal">
        <div class="modal-content modal-xl">
            <div class="modal-header">
                <div>
                    <h3 id="article-detail-title">ê¸°ì‚¬ ì œëª©</h3>
                    <div class="article-detail-meta">
                        <span id="article-detail-date"></span>
                        <span id="article-detail-source"></span>
                        <span id="article-detail-stats"></span>
                    </div>
                </div>
                <button class="modal-close" onclick="closeArticleDetailModal()">Ã—</button>
            </div>
            <div class="modal-body" style="max-height: 60vh; overflow-y: auto;">
                <!-- í‘œì‹œ ëª¨ë“œ í† ê¸€ -->
                <div style="display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap; align-items:center;">
                    <button class="btn btn-sm" id="btn-view-separate" onclick="setArticleViewMode('separate')" style="background:var(--accent-primary);color:white;">ğŸ“„ ë¶„ë¦¬ ë³´ê¸°</button>
                    <button class="btn btn-sm btn-secondary" id="btn-view-inline" onclick="setArticleViewMode('inline')">ğŸ”€ ë¬¸ì¥ë³„ ëŒ€ì¡°</button>
                    <label style="display:flex;align-items:center;gap:6px;margin-left:auto;font-size:13px;cursor:pointer;">
                        <input type="checkbox" id="toggle-ko-inline" onchange="toggleInlineKorean()" style="width:18px;height:18px;">
                        ğŸ‡°ğŸ‡· í•œêµ­ì–´ ë²ˆì—­ í‘œì‹œ
                    </label>
                </div>
                
                <!-- ë¶„ë¦¬ ë³´ê¸° ëª¨ë“œ -->
                <div id="article-view-separate">
                    <div class="article-detail-section">
                        <h4>ğŸ‡ºğŸ‡¸ ì˜ì–´ ì›ë¬¸</h4>
                        <div id="article-detail-en" class="article-content"></div>
                    </div>
                    <div class="article-detail-section" id="article-detail-ko-section">
                        <h4>ğŸ‡°ğŸ‡· í•œêµ­ì–´ ë²ˆì—­</h4>
                        <div id="article-detail-ko" class="article-content"></div>
                    </div>
                </div>
                
                <!-- ë¬¸ì¥ë³„ ëŒ€ì¡° ëª¨ë“œ (ì¸ë¼ì¸) -->
                <div id="article-view-inline" style="display:none;">
                    <div class="article-detail-section">
                        <h4>ğŸ“– ë¬¸ì¥ë³„ ì½ê¸° <small style="color:var(--text-secondary);">(ê° ë¬¸ì¥ í´ë¦­ ì‹œ ë²ˆì—­ í† ê¸€)</small></h4>
                        <div id="article-detail-inline" class="article-content"></div>
                    </div>
                </div>
                
                <div class="article-detail-section">
                    <h4>ğŸ“– í•µì‹¬ ìš©ì–´</h4>
                    <div id="article-detail-terms" class="key-terms-list"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="btn-start-translate">âœï¸ ë²ˆì—­ ì—°ìŠµ ì‹œì‘</button>
                <button class="btn btn-accent" id="btn-start-interpret">ğŸ™ï¸ í†µì—­ ì—°ìŠµ ì‹œì‘</button>
            </div>
        </div>
    </div>

    <!-- ê°€ì±  ëª¨ë‹¬ -->
    <div class="modal" id="gacha-modal">
        <div class="modal-content modal-gacha">
            <div class="modal-header">
                <h3>ğŸ ì˜¤ëŠ˜ì˜ ê°€ì± </h3>
                <button class="modal-close" onclick="closeGacha()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="gacha-machine" id="gacha-machine">
                    <div class="gacha-ball" id="gacha-ball">?</div>
                </div>
                <div class="gacha-result" id="gacha-result" style="display:none;">
                    <div class="gacha-reward" id="gacha-reward"></div>
                    <p id="gacha-reward-name"></p>
                </div>
                <div class="gacha-info">
                    <p>ë³´ìœ  í‹°ì¼“: <span id="gacha-tickets-modal">0</span>ì¥</p>
                    <small>í•™ìŠµ ì™„ë£Œ ì‹œ í‹°ì¼“ íšë“!</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary btn-lg" id="gacha-pull-btn" onclick="pullGacha()">
                    ğŸ° ë½‘ê¸° (1ì¥)
                </button>
            </div>
        </div>
    </div>

    <!-- ì•„ì¹´ì´ë¸Œ ìƒì„¸ ëª¨ë‹¬ -->
    <div class="modal" id="archive-modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 id="am-title">ì•„ì¹´ì´ë¸Œ</h3>
                <button class="modal-close" onclick="closeArchiveModal()">Ã—</button>
            </div>
            <div class="modal-body" id="am-body"></div>
            <div class="modal-footer">
                <textarea id="am-memo" placeholder="ë©”ëª¨ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”..."></textarea>
                <button class="btn btn-primary" onclick="saveArchiveMemo()">ë©”ëª¨ ì €ì¥</button>
            </div>
        </div>
    </div>

    <!-- ë±ƒì§€ íšë“ ëª¨ë‹¬ -->
    <div class="modal" id="badge-modal">
        <div class="modal-content modal-badge">
            <div class="badge-unlock-animation">
                <div class="badge-glow"></div>
                <div class="badge-icon" id="badge-unlock-icon">ğŸ†</div>
            </div>
            <h3>ğŸ‰ ìƒˆ ë±ƒì§€ íšë“!</h3>
            <p class="badge-name" id="badge-unlock-name"></p>
            <p class="badge-desc" id="badge-unlock-desc"></p>
            <button class="btn btn-primary" onclick="closeBadgeModal()">í™•ì¸</button>
        </div>
    </div>

    <!-- ë ˆë²¨ì—… ëª¨ë‹¬ -->
    <div class="modal" id="levelup-modal">
        <div class="modal-content modal-levelup">
            <div class="levelup-animation">
                <div class="levelup-stars">â­âœ¨ğŸŒŸâœ¨â­</div>
                <div class="levelup-text">LEVEL UP!</div>
                <div class="levelup-num" id="levelup-num">2</div>
            </div>
            <p class="levelup-title" id="levelup-title">ë²ˆì—­ ìˆ˜ìŠµìƒ</p>
            <button class="btn btn-primary" onclick="closeLevelupModal()">í™•ì¸</button>
        </div>
    </div>

    <!-- ìš´ì„¸ ëª¨ë‹¬ -->
    <div class="modal" id="fortune-modal">
        <div class="modal-content modal-fortune">
            <div class="fortune-animation">
                <div class="fortune-ball">ğŸ”®</div>
            </div>
            <h3>ì˜¤ëŠ˜ì˜ í•™ìŠµ ìš´ì„¸</h3>
            <div class="fortune-result" id="fortune-result"></div>
            <div class="fortune-lucky">
                <span>í–‰ìš´ì˜ ë‹¨ì–´: </span>
                <strong id="fortune-word"></strong>
            </div>
            <button class="btn btn-primary" onclick="closeFortuneModal()">ì˜¤ëŠ˜ë„ íŒŒì´íŒ…! ğŸ’ª</button>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ -->
    <div id="toasts" class="toasts-container"></div>

    <!-- ë¡œë”© -->
    <div id="loading" class="loading-overlay" style="display:none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>ë¡œë”©ì¤‘...</p>
        </div>
    </div>

    <!-- PWA ì„¤ì¹˜ ë²„íŠ¼ -->
    <button id="pwa-install-btn" class="pwa-install-btn" onclick="installPWA()">
        ğŸ“² ì•± ì„¤ì¹˜
    </button>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script>
        firebase.initializeApp({
            apiKey: "AIzaSyDummy",
            authDomain: "dayoung-studio.firebaseapp.com",
            projectId: "dayoung-studio",
            storageBucket: "dayoung-studio.firebasestorage.app"
        });
        const db = firebase.firestore();
    </script>

    <!-- ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="js/storage.js"></script>
    <script src="js/api.js"></script>
    <script src="js/sync.js"></script>
    <script src="js/games.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/app.js"></script>
    
    <!-- PWA Service Worker ë“±ë¡ -->
    <script>
        // PWA ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸
        let deferredPrompt;
        const pwaInstallBtn = document.getElementById('pwa-install-btn');
        
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('PWA ì„¤ì¹˜ ê°€ëŠ¥');
            e.preventDefault();
            deferredPrompt = e;
            pwaInstallBtn.style.display = 'block';
        });
        
        async function installPWA() {
            if (!deferredPrompt) {
                // iOS Safari
                if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                    alert('Safariì—ì„œ ê³µìœ  ë²„íŠ¼ â†’ "í™ˆ í™”ë©´ì— ì¶”ê°€"ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!');
                } else {
                    alert('ì´ë¯¸ ì„¤ì¹˜ë˜ì—ˆê±°ë‚˜ ì„¤ì¹˜í•  ìˆ˜ ì—†ëŠ” í™˜ê²½ì…ë‹ˆë‹¤.');
                }
                return;
            }
            
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log('PWA ì„¤ì¹˜ ê²°ê³¼:', outcome);
            
            if (outcome === 'accepted') {
                pwaInstallBtn.style.display = 'none';
            }
            deferredPrompt = null;
        }
        
        window.addEventListener('appinstalled', () => {
            console.log('PWA ì„¤ì¹˜ ì™„ë£Œ!');
            pwaInstallBtn.style.display = 'none';
            if (typeof showToast === 'function') {
                showToast('ğŸ‰ ì•±ì´ ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }
        });
        
        // Service Worker ë“±ë¡
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW ë“±ë¡ ì„±ê³µ:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('SW ë“±ë¡ ì‹¤íŒ¨:', error);
                    });
            });
        }
        
        // iOS Safari ê°ì§€í•˜ì—¬ ì„¤ì¹˜ ì•ˆë‚´ í‘œì‹œ
        const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent);
        const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
        
        if (isIOS && !isStandalone) {
            // iOSì—ì„œ PWAë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°
            setTimeout(() => {
                pwaInstallBtn.style.display = 'block';
                pwaInstallBtn.textContent = 'ğŸ“² í™ˆ í™”ë©´ì— ì¶”ê°€';
            }, 3000);
        }
    </script>
</body>
</html>
